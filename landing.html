<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Capital Appliances – Quality Used Appliances</title>
    <link href="css/main.css" rel="stylesheet" />
    <link href="css/landing.css" rel="stylesheet" />
    <link href="css/catalog.css" rel="stylesheet" />
    <link href="main.js" rel="script"></link>
  </head>

  <body>
    <!-- HEADER -->
    <header class="site-header">
      <img
        src="images/companylogo.png"
        alt="Company Logo"
        height="50"
        width="50"
      />
      <nav class="nav-right">
        <a class="button-nav" href="landing.html">Home</a>
        <a class="button-nav" href="catalog.html">Catalog</a>
        <a class="button-nav" href="contact.html">Contact</a>
        <a class="button-nav" href="cart.html">Saved</a>
      </nav>
    </header>

    <main>
      <!-- HERO / TITLE -->
      <section class="hero" style="padding-top: 4rem;">
        <h1 style="text-align: center; margin-bottom: 0.75rem;">
          Capital Appliances
        </h1>
        <p style="text-align: center; max-width: 700px; margin: 0 auto;">
          Family-run used appliance shop by Vins & Sarita. Clean, tested
          fridges, stoves, washers, dryers and more. Serving local homes and
          landlords with reliable appliances at fair prices.
        </p>
        <p style="text-align: center; max-width: 700px; margin: 0.5rem auto 1.5rem;">
          Every unit is inspected, cleaned, and ready for pickup or delivery options.
          Whether you're outfitting a rental suite or replacing a broken appliance,
          we’ll help you find something that fits your space and budget.
        </p>

        <div
          style="
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
          "
        >
          <a class="button-nav" href="catalog.html">Browse Catalog</a>
          <a class="button-nav" href="#contact">Contact Us</a>
        </div>
      </section>

      <!-- RECENT APPLIANCES -->
      <section class="catalog-grid" id="recent-products"></section>


      <!-- REVIEWS -->
      <section style="margin-top: 4rem;">
        <h2 style="text-align: center;">Customer Reviews</h2>
        <div id="reviews">
          <article>
            <h3>“Honest and easy to work with”</h3>
            <div role="img" aria-label="Rating is 5 out of 5">
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
            </div>
            <p>
              “Picked up a fridge and stove, everything was clean, fully tested,
              and ready to go. Vins was super friendly and upfront.”
            </p>
          </article>

          <article>
            <h3>“Perfect for our rental suite”</h3>
            <div role="img" aria-label="Rating is 4 out of 5">
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
            </div>
            <p>
              “Needed a washer and dryer set. Vins helped us choose and arranged
              delivery. Great experience.”
            </p>
          </article>

          <article>
            <h3>“Fast and reliable”</h3>
            <div role="img" aria-label="Rating is 5 out of 5">
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
              <svg class="checked" width="32" height="32" viewBox="0 0 32 32">
                <path
                  d="M16 0L20.6 11.2L32 12.4L23.2 19.6L26.4 32L16 25.2L5.6 32L8.8 19.6L0 12.4L11.4 11.2L16 0Z"
                />
              </svg>
            </div>
            <p>
              “Texted photos of options before we arrived. Felt like buying from
              a neighbour instead of a big store.”
            </p>
          </article>
        </div>
      </section>

      <!-- CONTACT (lighter background) -->
      <section
        id="contact"
        class="element"
        style="
          background: var(--card);
          margin-top: 5rem;
          padding-top: 2.5rem;
          padding-bottom: 2.5rem;
        "
      >
        <form id="contactForm" class="product-card">
          <h2>Contact Vins</h2>
          <p>
            Looking for something specific? Send us a message and we’ll reply
            with availability, pricing, and pickup/delivery options.
          </p>
          <p>Contact Vins at 604-813-0687 <br> <a href="mailto:singh.vins@hotmail.com">singh.vins@hotmail.com</a></p>
          <div style="grid-template-columns: repeat(2, 1fr);"></div>
          <div class="label-input" style="margin-top: 0.5rem;">
            <label for="contact-name">Your Name</label>
            <input
              type="text"
              id="contact-name"
              name="name"
              placeholder="Enter your name"
              required
            />
          </div>

          <div class="label-input" style="margin-top: 0.5rem;">
            <label for="contact-phone">Your Phone</label>
            <input
              type="text"
              id="contact-phone"
              name="phone"
              placeholder="Best number to reach you"
              required
            />
          </div>

          <div class="label-input" style="margin-top: 0.5rem;">
            <label for="contact-email">Email (optional)</label>
            <input
              type="text"
              id="contact-email"
              name="email"
              placeholder="you@example.com"
            />
          </div>

          <div class="label-input" style="margin-top: 0.5rem;">
            <label for="contact-message">How can we help?</label>
            <input
              type="text"
              id="contact-message"
              name="message"
              placeholder="e.g., saved washer & fridge, need delivery quote…"
              required
            />
          </div>

        </div>

          <button type="submit" class="button-nav" style="margin-top: 0.5rem;">Send Message</button>
        </form>
      </section>
    </main>


    <script>
    async function loadRecent() {
      const res = await fetch("https://craigslist-scraper.veron.workers.dev");
      const items = await res.json();

      const recent = items.slice(0, 3); // newest first

      const container = document.querySelector("#recent-products");
      container.innerHTML = recent.map(item => `
        <div class="product-card">
          
          <div class="product-image-container">
            <img src="${item.images.find(i => i.includes('600x450'))}" alt="${item.title}">
          </div>

          <h3 class="product-card-title">${item.title}</h3>
          <span class="product-card-price">$${item.price}</span>

          <a class="button-nav" href="product.html?id=${item.id}">
            View Details
          </a>

        </div>
      `).join("");

    }

    loadRecent();
    </script>

     <script>
    document.getElementById("contactForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      const saved = JSON.parse(localStorage.getItem("saved") || "[]");
      const savedTitles = saved.map(i => i.title);

      const body = {
        name: document.getElementById("contact-name").value,
        phone: document.getElementById("contact-phone").value,
        email: document.getElementById("contact-email").value,
        message: document.getElementById("contact-message").value,
        savedItems: savedTitles
      };

      const res = await fetch("https://craigslist-scraper.veron.workers.dev", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(body)
      });

      const json = await res.json();

      if (json.success) {
        alert("Message sent! Vins will contact you shortly.");
        document.getElementById("contactForm").reset();
      } else {
        alert("There was an error. Please try again.");
      }
    });
    </script>


  </body>
</html>
